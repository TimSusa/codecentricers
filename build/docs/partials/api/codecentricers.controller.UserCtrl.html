<h1><code ng:non-bindable="">UserCtrl</code>
<div><span class="hint">controller in module <code ng:non-bindable="">codecentricers</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="codecentricers-controller-page codecentricers-controller-userctrl-page"><p>Controller for managing user-related actions like login, email, password and user lifecycle.</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/ng.$location">$location</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ngDialog">ngDialog</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$log">$log</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/ng.$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/codecentricers.resources.service:User">User</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/codecentricers.resources.service:Auth">Auth</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/codecentricers.service:authService">authService</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/codecentricers.objects:globals">globals</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_changeemail">changeEmail()</h3>
<div class="changeemail"><div class="codecentricers-controller-page codecentricers-controller-userctrl-changeemail-page"><p>Requests to change a user&#39;s email address. This is step one of a two-step process.
When successful, the API backend will send a message to the new email address which
contains a unique verification code. Verification is handled by the
<a href="api/codecentricers.controller:EmailVerifyCtrl">EmailVerifyCtrl</a>.</p>
<p>This method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s new email address</li>
</ul>
</div><h5 id="methods_changeemail_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-changeemail-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_changeprofile">changeProfile()</h3>
<div class="changeprofile"><div class="codecentricers-controller-page codecentricers-controller-userctrl-changeprofile-page"><p>Changes a user&#39;s profile data and starts email address verification in case the address was altered.</p>
<p>This method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>user</strong> - <code>{object}</code> user object</li>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s new email address</li>
</ul>
</div><h5 id="methods_changeprofile_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-changeprofile-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_changepwd">changePwd()</h3>
<div class="changepwd"><div class="codecentricers-controller-page codecentricers-controller-userctrl-changepwd-page"><p>Performs password change for logged-in user.</p>
<p>The method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.currentPwd</strong> - <code>{string}</code> user&#39;s current password</li>
<li><strong>data.password</strong> - <code>{string}</code> user&#39;s new password</li>
</ul>
</div><h5 id="methods_changepwd_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-changepwd-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_closeaccount">closeAccount()</h3>
<div class="closeaccount"><div class="codecentricers-controller-page codecentricers-controller-userctrl-closeaccount-page"><p>Closes a user&#39;s account.</p>
</div><h5 id="methods_closeaccount_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-closeaccount-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_create">create()</h3>
<div class="create"><div class="codecentricers-controller-page codecentricers-controller-userctrl-create-page"><p>Performs user create via the <a href="api/codecentricers.service:authService">AuthService</a>. This method
uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.name</strong> - <code>{string}</code> user name</li>
<li><strong>data.password</strong> - <code>{string}</code> user password</li>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s email address (must be same as in registration/create link)</li>
<li><strong>data.inviteCode</strong> - <code>{string}</code> invitation code (as sent in create link)</li>
<li><strong>data.newsletter</strong> - <code>{boolean}</code> subscribe to newsletter</li>
<li><strong>data.tosAccepted</strong> - <code>{boolean}</code> user accepted Terms of Service</li>
</ul>
<p>Logs in user and redirects to user&#39;s dashboard on success.</p>
</div><h5 id="methods_create_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-create-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_login">login()</h3>
<div class="login"><div class="codecentricers-controller-page codecentricers-controller-userctrl-login-page"><p>Performs user login via the <a href="api/codecentricers.service:authService">AuthService</a>. This method
uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.name</strong> - <code>{string}</code> user name</li>
<li><strong>data.password</strong> - <code>{string}</code> user password</li>
</ul>
<p>Redirects to user&#39;s dashboard on success.</p>
</div><h5 id="methods_login_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-login-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_logout">logout()</h3>
<div class="logout"><div class="codecentricers-controller-page codecentricers-controller-userctrl-logout-page"><p>Performs user logout via the <a href="api/codecentricers.service:authService">AuthService</a>.</p>
</div></div>
</li>
<li><h3 id="methods_register">register()</h3>
<div class="register"><div class="codecentricers-controller-page codecentricers-controller-userctrl-register-page"><p>Registers a user&#39;s email address for invitation via <a href="api/codecentricers.service:authService">AuthService</a>.
This method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s email address</li>
</ul>
<p>Opens ngDialog on success which asks for newsletter create.</p>
</div><h5 id="methods_register_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-register-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_requestpwd">requestPwd()</h3>
<div class="requestpwd"><div class="codecentricers-controller-page codecentricers-controller-userctrl-requestpwd-page"><p>Requests to change a user&#39;s password. The user may not be logged in to perform
this operation. This is step one of a two-step process.
When successful, the API backend will send a message to the user&#39;s known email address which
contains a unique reset token. Actual password reset is handled by the
<a href="api/codecentricers.controller:PasswordResetCtrl">PasswordResetCtrl</a>.</p>
<p>On success this method redirects the user to home (/).</p>
<p>This method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s email address or user name</li>
</ul>
</div><h5 id="methods_requestpwd_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-requestpwd-page"><p>API call promise that resolves to an empty object or
<a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_resetpwd">resetPwd()</h3>
<div class="resetpwd"><div class="codecentricers-controller-page codecentricers-controller-userctrl-resetpwd-page"><p>Performs password reset based on a unique token received via email. The user may not be logged in to perform
this operation. This is step two of a two-step process.</p>
<p>On success this method redirects the user to home (/).</p>
<p>The method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.token</strong> - <code>{string}</code> unique password reset token</li>
<li><strong>data.password</strong> - <code>{string}</code> user&#39;s new password</li>
</ul>
</div><h5 id="methods_resetpwd_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-resetpwd-page"><p>API call promise that resolves to an empty object or
<a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_verifyemail">verifyEmail()</h3>
<div class="verifyemail"><div class="codecentricers-controller-page codecentricers-controller-userctrl-verifyemail-page"><p>Performs email address verification based on the information received via a
confirmation link.</p>
<p>This route may be called with or without a logged in user. On success the
user is redirected to dashboard (when logged in) or home (when not logged in).</p>
<p>The method uses the following data fields exported by the controller:</p>
<ul>
<li><strong>data.userId</strong> - <code>{string}</code> id of the user to verify</li>
<li><strong>data.email</strong> - <code>{string}</code> user&#39;s new email address</li>
<li><strong>data.token</strong> - <code>{string}</code> unique verification token</li>
</ul>
</div><h5 id="methods_verifyemail_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="codecentricers-controller-page codecentricers-controller-userctrl-verifyemail-page"><p>API call promise that resolves to a <a href="api/codecentricers.resources.service:User">User</a> object
or <a href="./guide/concepts">error object</a> on failure.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
