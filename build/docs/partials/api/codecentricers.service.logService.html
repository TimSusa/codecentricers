<h1><code ng:non-bindable="">logService</code>
<div><span class="hint">service in module <code ng:non-bindable="">codecentricers</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="codecentricers-service-page codecentricers-service-logservice-page"><p>Central service for wrapping Angular&#39;s $log calls and extending if with the following
features:</p>
<ul>
<li>enable debug messages on the fly with <code>$log.toggleDebug()</code></li>
<li>prefixes log messages with a date (MM/dd HH:mm:ss.sss)</li>
<li>stores the last N API calls, log messages and exceptions</li>
<li>generates diagnostic messages about app state and browser environment on request</li>
</ul>
<p>In order to intercept Angular&#39;s $log, run the following code at application config time</p>
<pre><code> // replace $log service with our own version
 $provide.decorator(&#39;$log&#39;, [&#39;$delegate&#39;, &#39;logService&#39;, function ($delegate, logService) {

   // $delegate is the original $log service which we forward calls to
   logService.setDelegate($delegate);

   // return our service instance
   return logService;
 }]);
</code></pre></div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="api/ng.$window">$window</a></code>
</li>
<li><code ng:non-bindable=""><a href="api/codecentricers.objects:globals">globals</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_callfailed">callFailed(config)</h3>
<div class="callfailed"><div class="codecentricers-service-page codecentricers-service-logservice-callfailed-page"><p>Logs (i.e. internally stores) unsuccessful API calls. Internally called
by logInterceptor.</p>
</div><h5 id="methods_callfailed_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>config</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-callfailed-page"><p>$http call rejection object.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_callsuccess">callSuccess(config)</h3>
<div class="callsuccess"><div class="codecentricers-service-page codecentricers-service-logservice-callsuccess-page"><p>Logs (i.e. internally stores) successful API calls. Internally called
by logInterceptor.</p>
</div><h5 id="methods_callsuccess_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>config</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-callsuccess-page"><p>$http call config.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_getcalls">getCalls()</h3>
<div class="getcalls"><div class="codecentricers-service-page codecentricers-service-logservice-getcalls-page"><p>Returns an array of the most recent API calls. A call object has
the following structure:</p>
<ul>
<li><strong>timestamp</strong> - <code>{string}</code> UNIX time in ms of the call end</li>
<li><strong>status</strong> - <code>{string}</code> HTTP status code</li>
<li><strong>headers</strong> - <code>{Array&lt;string&gt;}</code> HTTP headers</li>
<li><strong>method</strong> - <code>{string}</code> HTTP method</li>
<li><strong>url</strong> - <code>{string}</code> HTTP URL inclduing query parameters</li>
<li><strong>error</strong> - <code>{Object}</code> Returned API error object or null on success.</li>
</ul>
</div><h5 id="methods_getcalls_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-array">Array</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-getcalls-page"><p>Array of API call objects.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getdiagnosticmessage">getDiagnosticMessage()</h3>
<div class="getdiagnosticmessage"><div class="codecentricers-service-page codecentricers-service-logservice-getdiagnosticmessage-page"><p>Returns full context info about browser, user, application state
and recent history of log messages, exceptions and API calls.</p>
</div></div>
</li>
<li><h3 id="methods_getexceptions">getExceptions()</h3>
<div class="getexceptions"><div class="codecentricers-service-page codecentricers-service-logservice-getexceptions-page"><p>Returns an array of the most recent exceptions. An exception has
the following structure:</p>
<ul>
<li><strong>timestamp</strong> - <code>{string}</code> UNIX time in ms</li>
<li><strong>message</strong> - <code>{string}</code> exception message</li>
<li><strong>stackTrace</strong> - <code>{string}</code> JS stack trace if available</li>
<li><strong>cause</strong> - <code>{string}</code> exception cause if available</li>
</ul>
</div><h5 id="methods_getexceptions_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-array">Array</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-getexceptions-page"><p>Array of exception objects.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_getmessages">getMessages()</h3>
<div class="getmessages"><div class="codecentricers-service-page codecentricers-service-logservice-getmessages-page"><p>Returns an array of the most recent log messages.</p>
</div><h5 id="methods_getmessages_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-array">Array[&lt;string&gt;]</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-getmessages-page"><p>Array of log message strings.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_logexception">logException(e)</h3>
<div class="logexception"><div class="codecentricers-service-page codecentricers-service-logservice-logexception-page"><p>Logs an exception.</p>
</div><h5 id="methods_logexception_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>e</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-logexception-page"><p>A user-defined exception object.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_setdelegate">setDelegate(svc)</h3>
<div class="setdelegate"><div class="codecentricers-service-page codecentricers-service-logservice-setdelegate-page"><p>Sets a delegate service which will be called on each log function.
Used to intercept $log service.</p>
</div><h5 id="methods_setdelegate_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>svc</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-setdelegate-page"><p>The Angular service to delegate calls to once processed by logService.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_toggledebug">toggleDebug()</h3>
<div class="toggledebug"><div class="codecentricers-service-page codecentricers-service-logservice-toggledebug-page"><p>Toggles debug logging (everything logged through <code>$log.debug</code>) on or off.</p>
</div><h5 id="methods_toggledebug_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="codecentricers-service-page codecentricers-service-logservice-toggledebug-page"><p>True when debugging is enabled now.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
